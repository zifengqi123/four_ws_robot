# параметры hector_mapping

[официальная документация](http://wiki.ros.org/hector_mapping)

`base_frame (string, default: base_link)` - фрейм прикреплен к мобильной базе

`map_frame (string, default: map_link)` - фрейм прикреплен к карте

`odom_frame (string, default: odom)` - фрейм прикреплен к системе одометра

`map_resolution (double, default: 0.025)` - разрешение (размер ячейки) занятости карты, которую использует алгоритм hector_mapping для построения карты окружающей среды. занятость ячейки карты указывает на вероятность занятости соответствующего участка окружающей среды. разрешение карты задает, насколько мелкими будут ячейки занятости, и соответственно, насколько детальной будет карта. более мелкие ячейки занятости позволяют получить более точную карту, но требуют большего объема вычислительных ресурсов

`map_size (int, default: 1024)` - размер карты, которую создает алгоритм hector_mapping. значение параметра map_size задается в пикселях и определяет размеры карты в пикселях по осям x и y. значение параметра map_size должно быть достаточно большим, чтобы вместить всю область, которую нужно исследовать, но не должно быть слишком большим, чтобы не тратить дополнительные вычислительные ресурсы на обработку большого количества данных. обычно размер карты задается исходя из размеров области, которую нужно исследовать, и разрешения карты, заданного параметром map_resolution. размер карты можно рассчитать как произведение размеров области на разрешение карты: map_size = (map_width / map_resolution) * (map_height / map_resolution), где map_width и map_height - размеры области, которую нужно исследовать

`map_start_x (double, default: 0.5)` - определяет координату x левого верхнего угла карты в мировых координатах.
значение параметра map_start_x задается в метрах и указывает, на какой координате x начинается карта. значение параметра map_start_x может быть полезным, если необходимо создать карту конкретной области окружающей среды, например, в ограниченном пространстве. задавая значение параметра map_start_x, можно определить область, которую нужно исследовать, и получить карту только этой области. значение параметра map_start_x должно быть задано в соответствии с системой координат, используемой в вашей системе. Оно должно быть согласовано с другими параметрами карты, такими как map_resolution и map_size, чтобы границы карты были правильно определены и вся область, которую нужно исследовать, была охвачена

`map_start_y (double, default: 0.5)` - аналогично параметру `map_start_x`

`map_update_distance_thresh (double, default: 0.4)` - определяет расстояние, на которое должен переместиться робот, чтобы запустить обновление карты. значение параметра map_update_distance_thresh задается в метрах и указывает минимальное расстояние, которое должен пройти робот, чтобы запустить процесс обновления карты. если робот перемещается на расстояние меньше map_update_distance_thresh, то карту не обновляют

`map_update_angle_thresh (double, default: 0.9)` - аналогично параметру `map_update_distance_thresh`, но перемещение не линейное, а угловое

`map_pub_period (double, default: 2.0)` - определяет период публикации карты. значение параметра map_pub_period задается в секундах и указывает, с какой периодичностью карту должны публиковаться на топик '/map'

`map_multi_res_levels (int, default: 3)` - определяет количество уровней многомасштабного разбиения карты. значение параметра 'map_multi_res_levels' задается в целых числах и указывает, сколько уровней разрешения должно быть у карты. на каждом следующем уровне размер ячейки карты уменьшается в два раза по сравнению с предыдущим уровнем. многомасштабное разбиение карты позволяет улучшить качество карты за счет увеличения ее разрешения в областях с более высокой плотностью данных и уменьшения разрешения в областях с меньшей плотностью данных

`update_factor_free (double, default: 0.4)` - определяет вклад свободных ячеек в обновление карты. значение параметра update_factor_free задается в долях единицы и указывает, насколько сильно свободные ячейки влияют на обновление карты. Чем выше значение параметра, тем больше вклад свободных ячеек в обновление карты. алгоритм hector_mapping использует информацию о свободных и занятых ячейках для построения карты окружающей среды. параметр update_factor_free позволяет управлять вкладом свободных ячеек в этот процесс. если значение параметра слишком мало, то свободные ячейки будут иметь небольшой вклад в обновление карты, что может привести к упущению важных деталей окружающей среды. если значение параметра слишком большое, то свободные ячейки будут иметь слишком большой вклад, что может привести к появлению шумов на карте

`update_factor_occupied (double, default: 0.9)` - аналогично параметру 'update_factor_free', но вклад вносят занятые ячейки

`laser_min_dist (double, default: 0.4)` - задается в метрах и указывает, на каком минимальном расстоянии от лазерного датчика должен находиться объект, чтобы он был учтен при построении карты. если расстояние до объекта меньше, чем значение параметра laser_min_dist, то объект не будет учитываться при построении карты

`laser_max_dist (double, default: 30.0)` - аналогично параметру 'laser_min_dist', только расстояние максимальное

`laser_z_min_value (double, default: -1.0)` - задается в метрах и указывает на минимальное значение замеров лазерного датчика по оси z, которые будут учитываться при построении карты. Если значение замера меньше, чем значение параметра laser_z_min_value, то этот замер не будет учитываться при построении карты. параметр laser_z_min_value используется для фильтрации ложных срабатываний лазерного датчика, которые могут возникать при работе в условиях шума или отражений лазерного луча. если параметр laser_z_min_value установлен слишком низко, то на карте могут появляться ложные объекты или шумы, что может привести к ошибкам в работе робота. если параметр laser_z_min_value установлен слишком высоко, то на карте могут пропускаться объекты, что также может привести к ошибкам в работе робота

`laser_z_max_value (double, default: 1.0)` - аналогично параметру 'laser_z_min_value', только значение максимальное

`pub_map_odom_transform (bool, default: true` - определяет, должна ли публиковаться трансформация между системой координат карты и системой координат робота (odom). значение параметра pub_map_odom_transform может быть установлено в true или false. если параметр установлен в true, то будет публиковаться трансформация между системой координат карты и системой координат робота, что позволяет связать положение карты в мировой системе координат с положением робота в локальной системе координат

`output_timing (bool, default: false)` - определяет, должна ли выводиться информация о времени работы алгоритма на консоль

`scan_subscriber_queue_size (int, default: 5)` - определяет максимальное количество сообщений лазерного сканера, которые могут быть сохранены в очереди. если новые сообщения приходят в очередь, когда очередь уже заполнена, то самое старое сообщение удаляется, чтобы освободить место для новых сообщений

`pub_map_scanmatch_transform (bool, default: true)` - определяет, должно ли опубликовываться преобразование между системой координат локальной карты и системой координат лазерного сканера после каждой итерации сопоставления сканирования. когда параметр pub_map_scanmatch_transform установлен в true, после каждой итерации сопоставления сканирования алгоритм опубликует преобразование между системой координат локальной карты и системой координат лазерного сканера. это позволяет другим узлам в ROS использовать эту информацию, например, для визуализации положения робота на карте или для управления движением робота. если параметр pub_map_scanmatch_transform установлен в false, то преобразование между системой координат локальной карты и системой координат лазерного сканера не будет опубликовываться. значение параметра pub_map_scanmatch_transform может быть изменено в зависимости от требований к работе робота и приложению. если требуется использовать преобразование между системой координат локальной карты и системой координат лазерного сканера, то параметр pub_map_scanmatch_transform следует установить в true. если же преобразование между системой координат локальной карты и системой координат лазерного сканера не используется, то параметр pub_map_scanmatch_transform может быть установлен в false, чтобы снизить нагрузку на систему и увеличить скорость работы алгоритма

`tf_map_scanmatch_transform_frame_name (string, default: scanmatcher_frame)` - определяет имя фрейма, которое используется для опубликования преобразования между системой координат локальной карты и системой координат лазерного сканера после каждой итерации сопоставления сканирования. когда параметр 'pub_map_scanmatch_transform' установлен в 'true', алгоритм опубликует преобразование между системой координат локальной карты и системой координат лазерного сканера с помощью 'tf'. имя фрейма, которое будет использоваться для этого преобразования, определяется параметром tf_map_scanmatch_transform_frame_name. значение параметра 'tf_map_scanmatch_transform_frame_name' по умолчанию установлено на 'scanmatcher_frame', что означает, что преобразование будет опубликовано в фрейме с именем 'scanmatcher_frame'. однако, это имя может быть изменено на любое другое имя, если это необходимо. изменение значения параметра 'tf_map_scanmatch_transform_frame_name' может быть полезно, если в ROS используется несколько лазерных сканеров или систем координат, и нужно различать их преобразования между системой координат локальной карты и системой координат лазерного сканера