# параметры slam_gmapping

[официальная документация](http://wiki.ros.org/gmapping)

`inverted_laser (string, default: "false")` - true если сканы формируются против часовой стрелки) или вверх ногами (false если сканы формируются по часовой стрелке)

`throttle_scans (int, default: 1)` - используется для управления скоростью, с которой лазерные сканы обрабатываются алгоритмом отображения. Он определяет количество сканирований, которые должны быть получены до повторного запуска алгоритма сопоставления. установка этого параметра на более высокое значение снизит скорость обработки алгоритма, что может быть полезно, если вычислительная мощность робота ограничена или если робот работает с высокой скоростью сканирования

`base_frame (string, default: "base_link")` - фрейм прикреплен к мобильной базе

`map_frame (string, default: "map")` - фрейм прикреплен к карте

`odom_frame (string, default: "odom")` - фрейм прикреплен к системе одометра

`map_update_interval (float, default: 5.0)` - определяет, сколько времени (в секундах) между обновлениями карты) уменьшение этого числа приводит к более частому обновлению сетки заполняемости за счет большей вычислительной нагрузки)

`maxUrange (float, default: 80.0)` - используется для установки максимального диапазона использования лазерного датчика. этот диапазон используется для исключения показаний лазера, которые бесполезны для картографирования, это может быть связано с шумом датчика или отражениями от близких препятствий. это значение задается в метрах, и показания, диапазон которых превышает это значение, игнорируются

`sigma (float, default: 0.05)` - управляет стандартным отклонением ядра Гаусса, используемого для сглаживания данных лазерного сканирования

`kernelSize (int, default: 1)` - определяет размер ядра, используемого в операции свертки. Ядро, также известное как матрица свертки или маска, представляет собой небольшую матрицу, которая используется для применения определенного эффекта или фильтра к изображению. ядро передается по изображению по одному пикселю за раз, и значение каждого пикселя в изображении умножается на соответствующее значение в ядре, и результаты суммируются. параметр kernelSize определяет размер ядра, которое может представлять собой квадратную матрицу с нечетным числом строк и столбцов, например матрицу 3x3 или 5x5. чем больше ядро, тем больше оно будет размывать изображение

---

`lstep (float, default: 0.05)` - определяет расстояние между последовательными лазерными сканированиями на карте. он используется для управления разрешением карты, при этом меньшее значение приводит к карте с более высоким разрешением, а большее значение приводит к карте с более низким разрешением

`astep (float, default: 0.05)` - определяет угол между последовательными лазерными сканированиями. он работает аналогично параметру линейного шага, управляя разрешением карты в угловом измерении

p.s. оба параметра должны быть установлены тщательно, потому что карта с высоким разрешением потребует больше вычислительной мощности и памяти, но карта с низким разрешением затруднит обнаружение небольших объектов

---

`iterations (int, default: 5)` - управляет количеством итераций для алгоритма сопоставления сканирования

`lsigma (float, default: 0.075)` - управляет стандартным отклонением распределения Гаусса, используемого в функции правдоподобия, которая используется для определения вероятности наблюдения лазерного сканирования с определенной позиции на карте. функция правдоподобия используется для сравнения данных лазерного сканирования с картой, а значение lsigma определяет, насколько данные лазерного сканирования могут отличаться от карты, прежде чем они будут считаться маловероятным совпадением. меньшее значение lsigma приведет к более строгому сравнению, а большее значение приведет к менее строгому сравнению. в lsigma важно установить правильное значение, чтобы получить хороший баланс между получением хорошего соответствия и избеганием ложных срабатываний

`ogain (float, default: 3.0)` - контролирует вес, придаваемый данным лазерного сканирования при обновлении карты. он используется для балансировки влияния данных лазерного сканирования на предыдущую информацию карты, при этом более высокое значение придает больший вес данным лазерного сканирования, а более низкое значение придает больший вес предыдущей информации карты. параметр ogain можно использовать для настройки компромисса между точностью карты и ее гладкостью. более высокое значение ogain увеличит влияние данных лазерного сканирования, что приведет к более точной, но менее гладкой карте. более низкое значение ogain уменьшит влияние данных лазерного сканирования, что приведет к менее точной, но более гладкой карте. важно найти баланс между точностью и плавностью отображения карты в зависимости от варианта использования, датчика и окружающей среды.

`lskip (int, default: 0)` - используется для управления скоростью, с которой лазерные сканы обрабатываются алгоритмом отображения. он определяет количество сканирований, которые будут пропущены до обработки следующего сканирования. установка этого параметра на более высокое значение приведет к снижению скорости обработки сканирований, что может быть полезно, если вычислительная мощность робота ограничена или если робот работает с высокой скоростью сканирования. этот параметр может использоваться для управления вычислительной нагрузкой алгоритма и для повышения надежности алгоритма в средах с высокой скоростью сканирования или высоким уровнем шума. важно отметить, что увеличение параметра lskip также приведет к уменьшению разрешения карты, что сделает ее менее точной и менее плавной. он должен быть сбалансирован с другими параметрами, такими как lstep, astep, lsigma и ogain

`minimumScore (float, default: 0.0)` - устанавливает пороговое значение для оценки вычисленных поз, которое используется для определения качества картографического решения. оценка - это показатель того, насколько хорошо текущая карта совпадает с новыми данными лазерного сканирования. его можно использовать для фильтрации плохих поз или снимков низкого качества. более высокое значение minimumScore приведет к более строгим критериям приемлемости для вычисленных поз, а более низкое значение приведет к менее строгим критериям приемлемости. это означает, что если для параметра minimumScore установлено высокое значение, будут приниматься только позы с очень высоким баллом, а если для него установлено низкое значение, будут приниматься даже позы с низким баллом. его можно использовать для фильтрации плохих поз или снимков низкого качества, но он также будет отфильтровывать хорошие позы. он должен быть установлен тщательно, чтобы гарантировать, что отображение является надежным и точным

---

следующие параметры, используемые в модели движения сканера сопоставления, и они управляют неопределенностью движения. параметры srr, srt, str и stt используются в модели движения алгоритма сопоставления сканирования. эти параметры контролируют неопределенность движения робота и используются для моделирования погрешности в измерениях одометрии. эти параметры задаются в метрах или радианах, и их следует корректировать в зависимости от конкретного варианта использования и погрешности системы одометрии робота. например, если система одометрии робота имеет высокую погрешность при вращении вокруг оси x, значение srr следует увеличить. аналогично, если система одометрии робота имеет высокую погрешность при перемещении вдоль осей x, y и z, значение stt следует увеличить. важно отметить, что увеличение значений этих параметров увеличит пространство поиска средства сопоставления сканирования, что приведет к более медленному сопоставлению сканирования, но также увеличит шансы найти правильное соответствие. в то время как уменьшение значений этих параметров приведет к уменьшению пространства поиска средства сопоставления сканирования, что приведет к более быстрому сопоставлению сканирования, но также уменьшит шансы найти правильное совпадение.

`srr (float, default: 0.1)` - управляет неопределенностью вращения вокруг оси x

`srt (float, default: 0.2)` - управляет неопределенностью вращения вокруг оси y

`str (float, default: 0.1)` - управляет неопределенностью вращения вокруг оси z

`stt (float, default: 0.2)` - управляет неопределенностью перемещения вдоль осей x, y и z

---

`linearUpdate (float, default: 1.0)` - минимальное расстояние (в метрах), на которое может переместиться робот, не обновив карту

`angularUpdate (float, default: 0.5)` - минимальное угол (в радианах), на которое может переместиться робот, не обновив карту

`temporalUpdate (float, default: -1.0)` - время, за которое карта обновится, даже если робот не совершал перемещения

`resampleThreshold (float, default: 0.5)` - используется для управления величиной повторной выборки, которая выполняется, когда поза робота неопределенна. этот параметр представляет собой пороговое значение для расстояния между предполагаемым положением робота и положением, определенным на карте. если расстояние превышает этот порог, карта будет повторно выбрана для лучшего согласования с предполагаемым положением робота. пороговое значение должно быть установлено на значение, соответствующее конкретным датчикам робота и возможностям локализации. более низкие значения приведут к более частой повторной выборке, что может повысить точность карты, но также увеличить вычислительные затраты. высокие значения приведут к менее частой повторной выборке, что может снизить вычислительные затраты, но также снизить точность карты

`particles (int, default: 30)` - управляет количеством частиц, используемых в алгоритме фильтрации частиц. алгоритм фильтрации частиц - это метод, используемый для оценки позы робота (положения и ориентации) на основе данных датчиков. каждая частица представляет возможное состояние робота, и алгоритм фильтрации частиц использует набор частиц для представления распределения вероятностей по возможным состояниям робота. чем больше частиц используется, тем точнее будет оцененная поза робота, однако большое количество частиц увеличит вычислительные затраты. меньшее количество частиц уменьшит вычислительные затраты, но также снизит точность предполагаемой позы робота. в общем, число частиц должно быть установлено достаточно высоким, чтобы гарантировать правильную выборку распределения вероятностей по возможным состояниям робота, но не настолько высоким, чтобы вычислительные затраты становились непомерно высокими. как правило, в большинстве приложений gmapping используются значения от 100 до 1000 частиц

---

следующие парметры используются для указания размера сетки карты и определения разрешения карты

`xmin (float, default: -100.0)` - начальный размер карты (в метрах) по оси x

`ymin (float, default: -100.0)` - начальный размер карты (в метрах) по оси у

`xmax (float, default: 100.0)` - начальный размер карты (в метрах) по оси x

`ymax (float, default: 100.0)` - начальный размер карты (в метрах) по оси у

---

`delta (float, default: 0.05)` - используется для управления степенью детализации создаваемой карты. он представляет размер ячеек в сетке карты в метрах. меньшее значение для дельты приведет к более подробной и точной карте, но также увеличит вычислительные затраты и использование памяти. большее значение для дельты приведет к менее подробной и менее точной карте, но также снизит вычислительные затраты и использование памяти. обычно он устанавливается на значение, соответствующее возможностям датчика робота и локализации, а также размеру отображаемой среды. стоит отметить, что значение дельты также влияет на разрешение карты, меньшая дельта создаст более подробную карту, но роботу потребуется больше данных с датчиков, чтобы охватить ту же область

---

следующие параметры используются для управления выборкой данных лазерного датчика в процессе отображения В системе ROS (Robot Operating System) параметр ll sample range используется для указания дальности действия лазерного сканера (также известного как LIDAR) при использовании пакета laser_scan_matcher. Этот пакет выполняет согласование сканирования, которое представляет собой метод, используемый для выравнивания двух лазерных сканирований путем сведения к минимуму разницы между ними. Параметр llsamplerange используется для указания диапазона показаний лазерного сканера, который будет использоваться в процессе сопоставления сцен

`llsamplerange (float, default: 0.01)` - для управления диапазоном данных линейного лазерного датчика

`llsamplestep (float, default: 0.01)` - для управления размером шага данных линейного лазерного датчика

`lasamplerange (float, default: 0.005)` - для управления диапазоном данных углового лазерного датчика

`lasamplestep (float, default: 0.005)` - для управления размером шага данных углового лазерного датчика

---

`transform_publish_period (float, default: 0.05)` - используется для управления частотой публикации преобразования карты. преобразование карты - это матрица преобразования, которая описывает взаимосвязь между фреймом карты и базовым фреймом робота. значение этого параметра задается в секундах, оно представляет период времени между последовательными публикациями преобразования карты. эта информация используется другими узлами в системе ROS для выравнивания карты с данными одометрии робота и датчиков. по умолчанию преобразование публикуется со скоростью данных датчика, если для этого параметра установлено значение больше 0, это ограничит скорость публикации преобразования. это может быть полезно для снижения вычислительных затрат и использования памяти, например, если робот движется с низкой скоростью, нет необходимости обновлять преобразование карты очень часто. важно отметить, что если период установлен слишком высоко, это может привести к отклонению карты от истинного положения робота и снижению точности карты

`occ_thresh (float, default: 0.25)` - пороговое значение, используемое для определения того, занята ячейка на карте или нет

`maxRange (float)` - используется для установки максимальной дальности действия лазерного датчика, используемого для картографирования. это значение также задается в метрах, и показания, диапазон которых превышает это значение, игнорируются

*** Таким образом, параметр "maxUrange" используется для исключения показаний лазера, которые бесполезны для отображения, поскольку они находятся слишком далеко от датчика или потому, что они являются отражениями, в то время как параметр "maxRange" используется для исключения показаний лазера, которые находятся за пределами максимального диапазона датчика, который следует использовать для отображения ***
